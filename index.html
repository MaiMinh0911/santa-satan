<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Santa & Satan Story Game</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    color: #fff;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: linear-gradient(180deg, #0a1a3f, #1a3c6e);
    overflow: hidden;
  }

  .snowflake {
    position: fixed;
    top: -10px;
    color: #ffffffaa;
    font-size: 1em;
    user-select: none;
    animation: fall linear infinite;
  }

  @keyframes fall {
    0% { transform: translateY(-10vh) translateX(0); opacity: 1; }
    100% { transform: translateY(110vh) translateX(var(--deltaX)); opacity: 0; }
  }

  .container {
    text-align: center;
    background: rgba(0,0,0,0.5);
    padding: 30px;
    border-radius: 15px;
    width: 90%;
    max-width: 420px;
    z-index: 10;
  }

  .form-row { display: flex; flex-direction: column; align-items: flex-start; margin-bottom: 15px; width: 100%; }
  label { margin-bottom: 5px; font-weight: bold; font-size: 16px; text-align: left; }
  input, button { padding: 12px; font-size: 16px; width: 100%; border-radius: 10px; border: none; box-sizing: border-box; }
  button { cursor: pointer; font-weight: bold; margin-top: 12px; }

  #setupScreen { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; }
  #setupScreen button { background: #ff3b3b; color: #fff; }

  #hiddenScreen { display: none; flex-direction: column; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #0a1a3f; color: white; font-size: 30px; padding: 20px; z-index: 5; }

  #starCover { font-size: 36px; margin-bottom: 20px; text-align:center; }
  #roleDisplay { display:none; margin-top:20px; font-size: 24px; text-align:center; }
  #revealButton, #nextPlayerBtn, #restartBtn { margin-top: 20px; padding: 12px; border-radius: 10px; border: none; font-size: 18px; }
  #revealButton { background: #4caf50; color: white; }
  #nextPlayerBtn { background: #2196f3; color: white; }
  #restartBtn { background: #ff9800; color: white; }
</style>
</head>
<body>
<div id="snowContainer"></div>

<!-- Setup Screen -->
<div class="container" id="setupScreen">
  <h2>üéÑ Santa & Satan üéÑ</h2>
  <div class="form-row">
    <label for="playerCount">Number of players:</label>
    <input type="number" id="playerCount" min="3" max="20" placeholder="Enter number of players">
  </div>
  <button onclick="startGame()">Start Game</button>
</div>

<!-- Gameplay Screen -->
<div id="hiddenScreen">
  <div id="starCover">‚≠ê‚≠ê‚≠ê Tap to Reveal Role ‚≠ê‚≠ê‚≠ê</div>
  <button id="revealButton" onclick="revealRole()">Reveal</button>
  <div id="roleDisplay"></div>
  <button id="nextPlayerBtn" onclick="nextPlayer()">Next Player</button>
  <button id="restartBtn" onclick="restartGame()">Restart Game</button>
</div>

<script>
// Full prompts
const prompts = [
  "The funniest thing that has happened to you while celebrating Christmas abroad",
  "A time you misunderstood a local Christmas tradition",
  "The weirdest Christmas food you‚Äôve tried this year",
  "A gift you bought or received that totally backfired",
  "Your most awkward moment in a German Christmas market",
  "A Christmas decoration fail that made you laugh",
  "The weirdest thing you‚Äôve seen someone do at a holiday event",
  "A gift you pretended to like but secretly hated",
  "An accidental Christmas mishap that could be a meme",
  "The silliest thing you did to feel festive this year",
  "The most student-budget-friendly Christmas celebration you‚Äôve had",
  "A Christmas DIY or decoration fail",
  "A language mix-up that happened while buying Christmas food or gifts",
  "A small win you had this year that made your holiday feel special",
  "Something you did for Christmas that your friends back home would find hilarious",
  "The first Christmas snow moment that surprised you",
  "Your favorite cheap Christmas treat you discovered here",
  "A holiday shopping fail you experienced this year",
  "A cultural difference that made your Christmas unique",
  "The first time you tried a German holiday drink or snack",
  "If Santa/Satan came to our city, what would they do first?",
  "The weirdest Christmas outfit you could wear and get away with",
  "Your dream Christmas snack mashup",
  "A prank you would play during a Christmas dinner",
  "If your pet or imaginary friend could celebrate Christmas, what would they do?",
  "If Christmas trees could talk, what would they say?",
  "Invent a new Christmas tradition for students abroad",
  "If you could decorate your dorm room like a Christmas wonderland, how would it look?",
  "Imagine a Christmas gift that everyone would fight over ‚Äî what is it?",
  "A magical Christmas item you wish existed this year",
  "Your favorite little thing about celebrating Christmas in a new country",
  "The first Christmas memory that comes to mind from your childhood",
  "A Christmas song, movie, or anime you can‚Äôt get out of your head",
  "The nicest thing someone did for you this Christmas abroad",
  "A small cultural difference that surprised you this Christmas",
  "Your funniest moment sharing Christmas with roommates or classmates",
  "A gift you gave that made someone unexpectedly happy",
  "Something you learned about yourself this holiday season",
  "The best way to stay cozy during a cold German winter",
  "A moment this Christmas that made you feel at home even far away",
  "A Christmas tree design so wild it shouldn‚Äôt exist",
  "The strangest Christmas-themed game you can imagine",
  "A snowman with a very unusual personality",
  "A Christmas market stall that sells something crazy",
  "Your most bizarre Christmas costume idea",
  "If elves took over your dorm for a day, what would happen?",
  "Your dream Christmas prank on a friend",
  "The weirdest Christmas gift exchange idea",
  "A Christmas movie plot you would rewrite",
  "A magical creature visiting your Christmas celebration",
  "A Christmas dinner with characters from different countries ‚Äì who is there?",
  "A mishap while wrapping a gift that got out of hand",
  "The funniest thing a friend did during Christmas shopping",
  "A time you tried to cook a Christmas dish and it went terribly",
  "A hidden talent you could show at a Christmas party",
  "A unique Christmas tradition your family or culture has",
  "A Christmas-themed dare you would do for fun",
  "Your ideal cozy Christmas evening in a foreign country",
  "A weird Christmas superstition you‚Äôd make up",
  "A Christmas moment that made you unexpectedly emotional"
];

let totalPlayers = 0;
let currentPlayer = 1;
let roles = [];
let currentPrompt = "";

// Start game
function startGame() {
  const playerInput = document.getElementById('playerCount').value;
  totalPlayers = parseInt(playerInput);

  if (!totalPlayers || totalPlayers < 3 || totalPlayers > 20) {
    alert("Please enter a number of players between 3 and 20.");
    return;
  }

  // Assign roles randomly
  roles = Array(totalPlayers).fill("Santa");
  const satanIndex = Math.floor(Math.random() * totalPlayers);
  roles[satanIndex] = "Satan";

  // Show hidden screen, hide setup
  document.getElementById('setupScreen').style.display = 'none';
  document.getElementById('hiddenScreen').style.display = 'flex';
  resetHidden();
}

// Reset hidden screen
function resetHidden() {
  document.getElementById('roleDisplay').style.display = 'none';
  document.getElementById('nextPlayerBtn').style.display = 'none';
  document.getElementById('restartBtn').style.display = 'none';
  document.getElementById('starCover').style.display = 'block';
  document.getElementById('revealButton').style.display = 'block';
}

// Reveal role
function revealRole() {
  currentPrompt = prompts[Math.floor(Math.random() * prompts.length)];
  const roleDisplay = document.getElementById('roleDisplay');
  roleDisplay.style.display = 'block';
  document.getElementById('starCover').style.display = 'none';
  document.getElementById('revealButton').style.display = 'none';

  if (roles[currentPlayer-1] === "Satan") {
    roleDisplay.innerHTML = `üëπ You are SATAN!<br><br>Lie about the prompt:<br><strong>${currentPrompt}</strong>`;
  } else {
    roleDisplay.innerHTML = `üéÖ You are SANTA!<br><br>Tell a story about:<br><strong>${currentPrompt}</strong>`;
  }

  if (currentPlayer < totalPlayers) {
    document.getElementById('nextPlayerBtn').style.display = 'block';
  } else {
    document.getElementById('restartBtn').style.display = 'block';
  }
}

// Next player
function nextPlayer() {
  currentPlayer++;
  resetHidden();
}

// Restart game
function restartGame() {
  location.reload();
}

// Snow effect
function createSnowflake() {
  const snow = document.createElement('div');
  snow.className = 'snowflake';
  snow.textContent = '‚ùÑ';
  snow.style.left = Math.random() * 100 + 'vw';
  snow.style.fontSize = (Math.random() * 10 + 10) + 'px';
  const duration = (Math.random() * 5 + 5) + 's';
  snow.style.animationDuration = duration;
  const deltaX = (Math.random() * 40 - 20) + 'px';
  snow.style.setProperty('--deltaX', deltaX);
  document.body.appendChild(snow);
  setTimeout(() => snow.remove(), parseFloat(duration)*1000);
}
setInterval(createSnowflake, 200);
</script>
</body>
</html>
